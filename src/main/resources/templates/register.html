<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="https://www.thymeleaf.org/extras/spring-security">
<body>
<div th:replace="~{layout :: layout(~{::content})}">
  <div th:fragment="content">
    <h1>Register</h1>

    <form th:action="@{/register}" th:object="${form}" method="post">
      <label>Username
        <input th:field="*{username}" />
        <small class="danger" th:errors="*{username}"></small>
      </label>
      <label>Email
        <input th:field="*{email}" />
        <small class="danger" th:errors="*{email}"></small>
      </label>
      <label>Password
        <input th:field="*{password}" />
        <small class="danger" th:errors="*{password}"></small>
      </label>
      <label>Confirm password
        <input th:field="*{confirm}" />
        <small class="danger" th:errors="*{confirm}"></small>
      </label>
      <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}"/>
      <button type="submit">Create account</button>
    </form>

    <div th:if="${error}" class="danger" th:text="${error}"></div>
    <div th:if="${message}" class="ok" th:text="${message}"></div>

  </div>
</div>
</body>
</html>